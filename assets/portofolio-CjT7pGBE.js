import{M as V,G as W,c as $,b as X,O as Y,R as Z,o as ee,j as P,t as u,i,d as l,k as T,f as v,l as C,F as m,m as te,e as f,L as re,n as le,s as R,S as ae,p as ie}from"./index-B3x3qaGS.js";import{D as w}from"./displayError-RIHAznnY.js";var ne=u("<ul class=filter-list>"),se=u("<div class=filter-select-box><button type=button class=filter-select><div class=select-value>Select category</div><div class=select-icon></div></button><ul class=select-list>"),oe=u("<li class=filter-item><button type=button>"),ce=u("<li class=select-item><button type=button>"),ue=u("<div class=pagination><button type=button>Previous</button><button type=button>Next"),de=u("<button type=button>"),he=u("<ul class=project-list>"),ge=u('<article class="portofolio active"><header><h2 class="h2 article-title"></h2></header><section class=projects>'),ve=u('<li class="project-item active"><a target=_blank rel="noopener noreferrer"><figure class=project-img><div class=project-item-icon-box></div><img loading=lazy class=project-border-img></figure><h3 class=project-title></h3><p class=project-category>',!0,!1,!1);function fe(){const{updateTitle:O}=V.useMeta(),{userData:S,repos:h,repoInfo:y,setCurrentRepoPage:D,setCurrentRepoFilter:N,currentRepoFilter:E}=W.useGithub(),[j,A]=$([]),[g,U]=$(1),[_,z]=$(1),[H,q]=$(!0);X(()=>{if(h.loading||h.error)return;const e=h()?.map(t=>({name:t.name,url:t.html_url,topics:t.topics,openGraphImageUrl:`${Y}/${t.name}`}));A(e||[]),z(Math.ceil((S()?.public_repos||0)/Z))});const b=e=>{e<1||e>_()||(U(e),D(e),y.refetch())};ee(()=>{O("Portofolio"),setTimeout(()=>{q(!1)},200)});const B=P(()=>{const e=S()?.public_repos;return!e||e===0?"Portofolio":`Portofolio (${e} Data)`}),x=e=>{N(e),y.refetch()},J=P(()=>[(()=>{var e=ne();return i(e,l(m,{each:T,children:t=>(()=>{var n=oe(),a=n.firstChild;return a.$$click=()=>x(t.value),i(a,()=>t.name),v(()=>C(a,`${E()===t.value?"active":""}`)),n})()})),e})(),(()=>{var e=se(),t=e.firstChild,n=t.firstChild,a=n.nextSibling,o=t.nextSibling;return i(a,l(te,{})),i(o,l(m,{each:T,children:r=>(()=>{var s=ce(),d=s.firstChild;return d.$$click=()=>x(r.value),i(d,()=>r.name),v(()=>C(d,`${E()===r.value?"active":""}`)),s})()})),e})()]),K=P(()=>(()=>{var e=ue(),t=e.firstChild,n=t.nextSibling;return t.$$click=()=>b(g()-1),i(e,l(m,{get each(){return Array.from({length:_()})},children:(a,o)=>{const r=o()+1;return(()=>{var s=de();return s.$$click=()=>b(r),i(s,r),v(()=>C(s,g()===r?"active":"")),s})()}}),n),n.$$click=()=>b(g()+1),v(a=>{var o=g()===1,r=g()===_();return o!==a.e&&(t.disabled=a.e=o),r!==a.t&&(n.disabled=a.t=r),a},{e:void 0,t:void 0}),e})());return(()=>{var e=ge(),t=e.firstChild,n=t.firstChild,a=t.nextSibling;return i(n,B),i(a,l(ae,{get children(){return[l(f,{get when(){return h.loading||H()},get children(){return l(re,{})}}),l(f,{get when(){return h.error},get children(){return l(w,{message:"Failed to fetch data"})}}),l(f,{get when(){return j().length===0},get children(){return l(w,{message:"No data available"})}}),l(f,{when:!0,get children(){return[l(J,{}),(()=>{var o=he();return i(o,l(m,{get each(){return j()},children:r=>(()=>{var s=ve(),d=s.firstChild,L=d.firstChild,k=L.firstChild,p=k.nextSibling,F=L.nextSibling,Q=F.nextSibling;return i(k,l(le,{})),p.addEventListener("error",c=>c.currentTarget.src=""),i(F,()=>r.name.split("-").join(" ")),i(Q,()=>r.topics.join(", ")),v(c=>{var G=r.url,I=r.openGraphImageUrl,M=r.name;return G!==c.e&&R(d,"href",c.e=G),I!==c.t&&R(p,"src",c.t=I),M!==c.a&&R(p,"alt",c.a=M),c},{e:void 0,t:void 0,a:void 0}),s})()})),o})(),l(K,{})]}})]}})),e})()}ie(["click"]);export{fe as default};
